{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict'\n\nexport function fetchData(url = BASE_URL, options = {}) {\n    return fetch(url, options)\n        .then(response => {\n            if (!response.ok) {\n                return new Error(\"Error!\");\n            }\n            return response.json();\n        });\n}","'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function showToastError(message = \"Error\") {\n    iziToast.error({\n        position: 'topRight',\n        message: message\n    });\n}\n\nexport function createMarkup(array) {\n    return array.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n        return `<li class=\"gallery-item\">\n            <a\n              class=\"gallery-link\"\n              href=\"${largeImageURL}\"\n            >\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n                width=\"360\"\n              />\n              <ul class=\"gallery-card-list\">\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Likes</p>\n                    <p class=\"gallery-card-list-info-text\">${likes}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Views</p>\n                    <p class=\"gallery-card-list-info-text\">${views}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Comments</p>\n                    <p class=\"gallery-card-list-info-text\">${comments}</p>\n                  </div>\n                </li>\n                <li>\n                  <div class=\"gallery-card-list-info\">\n                    <p class=\"gallery-card-list-info-title\">Downloads</p>\n                    <p class=\"gallery-card-list-info-text\">${downloads}</p>\n                  </div>\n                </li>\n              </ul>\n            </a>\n          </li>`\n      }).join('');\n}\n","'use strict'\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api.js\";\nimport { showToastError, createMarkup } from \"./js/render-functions.js\";\n\nconst API_KEY = \"47390664-00e9f6e051e23aada86cf3665\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nlet searchParams = new URLSearchParams ({\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n});\n\nconst form = document.querySelector(\".form\");\nconst loading = document.querySelector(\".loader\");\nconst gallery = document.querySelector(\".gallery\");\nconst itemOption = {\n    captionDelay: 250,\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom'\n}\nconst galleryLightbox = new SimpleLightbox('.gallery a', itemOption);\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    searchParams.set(\"q\", event.target.elements.search.value);\n    loading.hidden = false;\n\n    fetchData(`${BASE_URL}?${searchParams}`)\n        .then(result => {\n            if (!result.hits.length) {\n                gallery.innerHTML = \"\";\n                showToastError(\"Sorry, there are no images matching your search query. Please try again!\");\n                return;\n            }\n\n            gallery.insertAdjacentHTML(\"afterbegin\", createMarkup(result.hits));\n            galleryLightbox.refresh();\n        })\n        .catch(error => showToastError(error.message))\n        .finally(() => loading.hidden = true)\n    \n    form.reset();\n}\n"],"names":["fetchData","url","options","response","showToastError","message","iziToast","createMarkup","array","webformatURL","largeImageURL","tags","likes","views","comments","downloads","API_KEY","BASE_URL","searchParams","form","loading","gallery","itemOption","galleryLightbox","SimpleLightbox","handleSubmit","event","result","error"],"mappings":"6vBAEO,SAASA,EAAUC,EAAM,SAAUC,EAAU,CAAA,EAAI,CACpD,OAAO,MAAMD,EAAKC,CAAO,EACpB,KAAKC,GACGA,EAAS,GAGPA,EAAS,OAFL,IAAI,MAAM,QAAQ,CAGhC,CACT,CCLO,SAASC,EAAeC,EAAU,QAAS,CAC9CC,EAAS,MAAM,CACX,SAAU,WACV,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,EAAaC,EAAO,CAChC,OAAOA,EAAM,IAAI,CAAC,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC5E;AAAA;AAAA;AAAA,sBAGOL,CAAa;AAAA;AAAA;AAAA;AAAA,uBAIZD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAOkCC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6DAMRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,gBAM/D,EAAE,KAAK,EAAE,CAChB,CC9CA,MAAMC,EAAU,qCACVC,EAAW,2BAEjB,IAAIC,EAAe,IAAI,gBAAiB,CACpC,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAED,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,CACf,aAAc,IACd,YAAa,OACb,aAAc,MACd,gBAAiB,QACrB,EACMC,EAAkB,IAAIC,EAAe,aAAcF,CAAU,EAEnEH,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpBR,EAAa,IAAI,IAAKQ,EAAM,OAAO,SAAS,OAAO,KAAK,EACxDN,EAAQ,OAAS,GAEjBpB,EAAU,GAAGiB,CAAQ,IAAIC,CAAY,EAAE,EAClC,KAAKS,GAAU,CACZ,GAAI,CAACA,EAAO,KAAK,OAAQ,CACrBN,EAAQ,UAAY,GACpBjB,EAAe,0EAA0E,EACzF,MACH,CAEDiB,EAAQ,mBAAmB,aAAcd,EAAaoB,EAAO,IAAI,CAAC,EAClEJ,EAAgB,QAAO,CACnC,CAAS,EACA,MAAMK,GAASxB,EAAewB,EAAM,OAAO,CAAC,EAC5C,QAAQ,IAAMR,EAAQ,OAAS,EAAI,EAExCD,EAAK,MAAK,CACd"}